# 算法 第1章 基础

本书的目的是研究多种重要而实用的算法，即适合用计算机实现的解决问题的方法。和算法关系最紧密的是数据结构，即便于算法操作的组织数据的方法。本章介绍的就是学习算法和数据结构所需要的基本工具。

首先要介绍的是基础编程模型。接下来重点介绍的是数据抽象并定义抽象数据类型（ADT）以进行模块化编程。接下来将学习三种基础的抽象数据类型：背包、队列和栈。1.3节用数组、变长数组和链表实现了背包、队列和栈的 API，它们是全书算法实现的起点和样板。**性能是算法研究的一个核心问题**。1.4节描述了分析算法性能的方法。我们的基本做法是科学式的，即先对性能提出假设，建立数学模型，然后用多种实验验证它们，必要时重复这个过程。

### 算法

在计算机科学领域，我们用算法这个词来描述一种有限、确定、有效的并适合用计算机程序来实现的解决问题的方法。算法是计算机科学的基础。是这个领域研究的核心。数据结构是算法的副产品或是结果，因此要理解算法必须学习数据结构。简单的算法也会产生复杂的数据结构，相应地，复杂的算法也许只需要简单的数据结构。

当用计算机解决一个问题时，一般都存在多种不同的方法。对于小型问题，只要管用，方法的不同并没有什么关系。但是**对于大型问题（或者是需要解决大量小型问题的应用），我们就需要设计能够有效利用时间和空间的方法了**


**学习算法的主要原因是它们能节约非常多的资源，甚至能够让我们完成一些本不可能完成的任务。在某些需要处理上百万个对象的应用程序中，设计优良的算法甚至可以将程序运行的速度提高数百万倍。与此相反，花金钱和时间去购置新的硬件可能只能将速度提高十倍或是百倍。无论在任何应用领域，精心设计的算法都是解决大型问题最有效的方法**。

学习算法是非常有趣和令人激动的，因为这是一个历久弥新的领域。这个领域不断有新的发现，但研究透彻的算法仍然是少数。本书中既有精巧、复杂和高难度的算法，也有优雅、朴素和简单的算法。在科学和商业应用中，我们的目标是理解前者并熟悉后者，这样才能掌握这些有用的工具并学会算法式思考，以迎接未来计算任务的挑战。

### 1.1 基础编程模型

我们把描述和实现算法所用到的语言特性、软件库和操作系统特性总称为**基础编程模块**。

### 1.1.1 Java程序的基本结构

要创建静态方法库和定义数据类型，会用到下面五种语法，它们是 Java 语言的基础，也是大多数现代语言所共有的。

* **原始数据类型**:它们在计算机程序中精确地定义整数、浮点数和布尔值等。它们的定义包括取值范围和能够对相应的值进行的操作，它们能够被组合为类似于数学公式定义的表达式。
* **语句**：语句通过创建变量并对其赋值、控制运行流程或者引发副作用来进行计算。我们会使用六种语句：声明、赋值、条件、循环、调用和返回。
* **数组**：数组是多个同种数据类型的值的集合。
* **静态方法**：静态方法可以封装并重用代码，使我们可以用独立的模块开发程序。
* **字符串**：字符串是一连串的字符，Java 内置了对它们的一些操作。
* **标准输入/输出**：标准输入输出是程序与外界联系的桥梁。
* **数据抽象**：数据抽象封装和重用代码，使我们可以定义非原始数据类型，进而支持面向对象编程。

#### Java程序及其命令行的调用

```
import java.util.Arrays;//导入一个java库
//代码文件名必须是 BinarySearch.java
public class BinarySearch
{
  //静态方法
  public static int rank(int key, int[] a)
  {
    int lo = 0;//初始化声明语句
    int hi = a.lenght - 1;
    while (lo <= hi)
    {
      int mid = lo + (hi - lo) / 2;
      if (key < a[mid]) hi = mid - 1;
      else if (key > a[mid]) lo = mid + 1;
      else return mid;
    }
    return -1;
  }
  
  public static void main(String[] args)
  {
    int[] whitelist = In.readInts(args[0]);
    Arrays.sort(whitelist);//调用Java库中的sort方法
    while (!StdIn.isEmpty())
    {
      //isEmpty方法和readInt方法：调用标准库中的方法
      int key = StdIn.readInt();
      if (rank(key, whitelist) == -1)
        StdOut.println(key);
    }
  }
}
```

### 1.1.2 原始数据类型与表达式

4种Java语言最基本的原始数据类型（Java语言内置的原始数据类型）：

* 整型（int），及其算术运算符；
* 浮点型（double），及其算术运算符；
* 布尔型（boolean），它的值 {true, false}及其逻辑操作；
* 字符型（char），它的值是你能够输入的英文字母数字字符和符号

![Java 程序的基本组成](https://upload-images.jianshu.io/upload_images/4164292-43a26749120c22aa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

对于原始类型来说，我们用标识符来引用变量，用+、-、* 、/ 等运算符来指定操作，用字面量，例如1或者3.14来表示值。

### 1.1.2.1 运算符优先级

运算符优先级：**运算符 * 和 /(以及%)的优先级高于 + 和 -（优先级越高，越早运算）；在逻辑运算符中，!拥有最高优先级，之后是 &&，接下来是 ||。一般来说，相同优先级的运算符的运算顺序是从左到右。与在正常的算数表达式中一样，使用括号能够改变这些规则**。

### 1.1.2.2 类型转换

如果不会损失信息，数值会被自动提升为高级的数据类型。例如，在表达式 1+2.5 中，1 会被转换为浮点数1.0，表达式的值也为double值3.5。转换指的是在表达式中把类型名放在括号里将其后的值转换为括号中的类型。例如，(int)3.7的值是3而(double)3的值是3.0。需要注意的是将浮点类型转换为整型将会截断小数部分而非四舍五入，在复杂的表达式中的类型转换可能会很复杂，应该小心并尽量少使用类型转换，最好是在表达式中只使用同一类型的字面量和变量。

### 1.1.2.3 比较

下列运算符能够比较相同数据类型的两个值并产生一个布尔值：相等（==）、不等（!=）、小于（<）、小于等于（<=）、大于（>）和大于等于（>=）。这些运算符被称为混合类型运算符，因为它们的结果是布尔型，而不是参与比较的数据类型。结果是布尔型的表达式被称为布尔表达式。我们将会看到这种表达式是条件语句和循环语句的重要组成部分。


### 1.1.2.4 其他五种原始类型

Java的整型能够表示 2<sup/>32</sup>个不同的值，用一个32位二进制即可表示（虽然现在的许多计算机有64位二进制，但整型仍然是32位）。与此相似，浮点型的标准规定为64位。这些大小对于一般应用程序中使用的整数和实数已经足够了。为了提供更大的灵活性，Java 还提供了其他五种原始数据类型：

* 64位整数，及其算术运算符（long）；
* 16位整数，及其算术运算符（short）；
* 16位字符，及其算数运算符（char）；
* 8位整数，及其算术运算符（byte）；
* 32位单精度实数，及其算数运算符（float）；

### 1.1.3 语句

Java 程序是由语句组成的。语句能够通过创建和操作变量、对变量赋值并控制这些操作的执行流程来描述运算。语句通常会被组织成代码段，即花括号中的一系列语句。

* 声明语句：创建某种类型的变量并用标识符为其命名。声明语句用来指定变量的名称和类型。Java是一种强类型的语言，所以 Java 编译器会检查类型的一致性（例如，它不会允许将布尔类型和浮点类型的变量相乘）。变量可以声明在第一次使用之前的任何地方。一般我们都在首次使用该变量时声明它。变量的作用域就是定义它的地方，一般由相同代码段中声明之后的所有语句组成。
* 赋值语句：将（由表达式产生的）某种类型的数值赋予一个变量。赋值语句的左侧必须是单个变量，右侧可以是能够得到相应类型的值的任意表达式。
* 条件语句：根据指定的条件执行两个代码段之一。比如 if语句
* 循环语句：只要条件为真就不断地反复执行代码段中的语句。比如 while语句
* 调用和返回语句：和静态方法有关，是改变执行流程和代码组织的另一种方式。比如Java 支持在 while 循环中使用 break语句和 continue 语句。break 语句表示立即从循环中退出；continue 语句表示立即结束本次循环并开始下一轮循环。

程序就是由一系列声明、赋值、条件、循环、调用和返回语句组成的。一般来说代码的结构都是嵌套的：一个条件语句或循环语句的代码中也能包含条件语句或是循环语句。

### 1.1.4 简便记法

程序有很多中写法，我们追求清晰、优雅和高效的代码。这样的代码经常会使用以下这些广为流传的简便写法：

* 声明并初始化：可以将声明语句和赋值语句结合起来，在声明（创建）一个变量的同时将它初始化。最好在接近首次使用变量的地方声明它并将其初始化（为了限制它的作用域）。
* 隐式赋值：当希望一个变量的值相对于其当前值变化时，可以使用下面一些简便的写法。（1）递增/递减运算符：++i; 等价于 i=i+1;且表达式的值为 i+1;。类似地，--i;等价于 i=i-1; i++ 和 ++i 的不同在于 i++; 表达式的值为i。（2）其他复合运算符：i/=2;等价于 i=i/2; 注意，i += 1;等价于 i = i + 1;（以及 ++i;）。
* 单语句代码段：如果条件或循环语句的代码段只有一条语句，代码段的花括号可以省略。




















